{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nexport const useApiProgress = path => {\n  _s();\n\n  const [pendingApiCall, setPendingApiCall] = useState(false);\n\n  const updateState = (url, status) => {\n    if (url.startsWith(path)) {\n      setPendingApiCall(status);\n    }\n  };\n\n  useEffect(() => {\n    const requestId = axios.interceptors.request.use(request => {\n      updateState(request.url, true);\n      return request;\n    });\n    const responseId = axios.interceptors.response.use(response => {\n      updateState(response.config.url, false);\n      return response;\n    }, error => {\n      updateState(error.config.url, false);\n      throw error;\n    });\n    return () => {\n      axios.interceptors.request.eject(requestId);\n      axios.interceptors.response.eject(responseId);\n    };\n  }, [path]);\n  return pendingApiCall;\n};\n\n_s(useApiProgress, \"dxeikoFXtsTGpF/7CQdkmajlavs=\");","map":{"version":3,"names":["axios","useEffect","useState","useApiProgress","path","pendingApiCall","setPendingApiCall","updateState","url","status","startsWith","requestId","interceptors","request","use","responseId","response","config","error","eject"],"sources":["/Users/epazar/Documents/workspace/UI/frontend/src/common/ApiProgress.tsx"],"sourcesContent":["import axios, { AxiosRequestConfig } from 'axios';\nimport { useEffect, useState } from 'react';\n\nexport const useApiProgress = (path: string) => {\n\n    const [pendingApiCall, setPendingApiCall] = useState(false);\n\n    const updateState = (url: string, status: boolean): void => {\n        if (url.startsWith(path)) {\n            setPendingApiCall(status);\n        }\n    }\n\n    useEffect(() => {\n        const requestId = axios.interceptors.request.use((request: AxiosRequestConfig) => {\n            updateState(request.url!,true);\n            return request;\n        });\n\n        const responseId = axios.interceptors.response.use((response) => {\n            updateState(response.config.url!,false);\n            return response;\n\n        }, (error) => {\n            updateState(error.config.url!,false);\n            throw error;\n        });\n        return () => {\n            axios.interceptors.request.eject(requestId);\n            axios.interceptors.response.eject(responseId);\n        }\n\n    },[path]);\n\n    return pendingApiCall;\n}\n\n\n\n\n\n\n"],"mappings":";;AAAA,OAAOA,KAAP,MAA0C,OAA1C;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,OAAO,MAAMC,cAAc,GAAIC,IAAD,IAAkB;EAAA;;EAE5C,MAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCJ,QAAQ,CAAC,KAAD,CAApD;;EAEA,MAAMK,WAAW,GAAG,CAACC,GAAD,EAAcC,MAAd,KAAwC;IACxD,IAAID,GAAG,CAACE,UAAJ,CAAeN,IAAf,CAAJ,EAA0B;MACtBE,iBAAiB,CAACG,MAAD,CAAjB;IACH;EACJ,CAJD;;EAMAR,SAAS,CAAC,MAAM;IACZ,MAAMU,SAAS,GAAGX,KAAK,CAACY,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAAgCD,OAAD,IAAiC;MAC9EN,WAAW,CAACM,OAAO,CAACL,GAAT,EAAc,IAAd,CAAX;MACA,OAAOK,OAAP;IACH,CAHiB,CAAlB;IAKA,MAAME,UAAU,GAAGf,KAAK,CAACY,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAiCE,QAAD,IAAc;MAC7DT,WAAW,CAACS,QAAQ,CAACC,MAAT,CAAgBT,GAAjB,EAAsB,KAAtB,CAAX;MACA,OAAOQ,QAAP;IAEH,CAJkB,EAIfE,KAAD,IAAW;MACVX,WAAW,CAACW,KAAK,CAACD,MAAN,CAAaT,GAAd,EAAmB,KAAnB,CAAX;MACA,MAAMU,KAAN;IACH,CAPkB,CAAnB;IAQA,OAAO,MAAM;MACTlB,KAAK,CAACY,YAAN,CAAmBC,OAAnB,CAA2BM,KAA3B,CAAiCR,SAAjC;MACAX,KAAK,CAACY,YAAN,CAAmBI,QAAnB,CAA4BG,KAA5B,CAAkCJ,UAAlC;IACH,CAHD;EAKH,CAnBQ,EAmBP,CAACX,IAAD,CAnBO,CAAT;EAqBA,OAAOC,cAAP;AACH,CAhCM;;GAAMF,c"},"metadata":{},"sourceType":"module"}